{
  "base_model": "Qwen/Qwen2.5-7B-Instruct",
  "dataset_path": "jsonl/processed/train-original.jsonl",
  "validation_path": "jsonl/processed/valid-original.jsonl",
  "test_path": "jsonl/processed/test-original.jsonl",
  "train_ratio": 0.80,
  "valid_ratio": 0.15,
  "test_ratio": 0.05,
  "fine_tune_params": {
    "num_layers": 16,
    "learning_rate": 2e-4,
    "iters": 2000,
    "fine_tune_type": "lora",
    "lora_rank": 128,
    "lora_alpha": 256,
    "lora_dropout": 0.1,
    "batch_size": 2,
    "gradient_accumulation_steps": 16,
    "warmup_steps": 200,
    "weight_decay": 0.01,
    "scheduler": "cosine_with_warmup",
    "max_seq_length": 2048,
    "target_modules": ["q_proj", "k_proj", "v_proj", "o_proj", "gate_proj", "up_proj", "down_proj"],
    "save_strategy": "steps",
    "logging_steps": 25,
    "eval_strategy": "steps",
    "lr_schedule": "warmup_cosine_decay"
  },
  "ollama_model_name": "qwen2-5-7b-presscrafters-qa-improved",
  "keep_split_data": true,
  "keep_fused_model": true,
  "keep_gguf_files": true,
  "keep_adapter_weights": true,
  "evaluation": {
    "metrics": ["accuracy", "bleu", "rouge", "exact_match", "f1"],
    "eval_steps": 100,
    "save_steps": 200,
    "load_best_model_at_end": true,
    "metric_for_best_model": "f1",
    "early_stopping_patience": 8,
    "early_stopping_threshold": 0.001
  },
  "data_processing": {
    "max_length": 1024,
    "truncation": true,
    "padding": "max_length",
    "remove_columns": ["sourceDocument", "chunkIndex", "section", "category", "difficulty"]
  },
  "training_args": {
    "fp16": true,
    "dataloader_pin_memory": false,
    "dataloader_num_workers": 4,
    "group_by_length": true,
    "report_to": "none",
    "run_name": "qwen2-5-7b-presscrafters-qa-improved",
    "gradient_checkpointing": true,
    "max_grad_norm": 1.0
  },
  "learning_rate_schedule": {
    "type": "warmup_cosine_decay",
    "warmup_steps": 200,
    "total_steps": 2000,
    "initial_lr": 2e-4,
    "final_lr": 1e-6,
    "warmup_ratio": 0.1,
    "decay_ratio": 0.9
  }
}
