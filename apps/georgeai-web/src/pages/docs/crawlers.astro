---
import Layout from '../../layouts/Layout.astro'
---

<Layout title="Crawlers - George-AI Documentation">
  <div class="max-w-4xl mx-auto">
    <!-- Breadcrumb -->
    <nav aria-label="Breadcrumb" class="text-sm breadcrumbs mb-6">
      <ul>
        <li><a href="/docs">Documentation</a></li>
        <li>Crawlers</li>
      </ul>
    </nav>

    <!-- Hero Section -->
    <div class="hero bg-gradient-to-br from-accent/10 to-accent/5 rounded-box mb-12">
      <div class="hero-content text-center py-8 sm:py-12">
        <div class="max-w-2xl">
          <h1 class="text-4xl sm:text-5xl font-bold mb-4">Crawlers</h1>
          <p class="text-lg sm:text-xl">
            Automatically collect files from external sources into your Libraries
          </p>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- What are Crawlers -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">What are Crawlers?</h2>
      <div class="prose max-w-none">
        <p class="text-lg">
          Crawlers are automated collectors that continuously gather files from external sources like SharePoint, file shares, websites, and cloud storage, bringing them into your George AI Libraries.
        </p>
        <p>
          Instead of manually uploading files, you configure a crawler once, and it automatically discovers and imports files—keeping your Library synchronized with the source.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-6 mt-8">
        <div class="card bg-base-200">
          <div class="card-body">
            <h3 class="card-title text-base">One-Time Setup</h3>
            <p class="text-sm">Configure crawler once with source URL and credentials</p>
          </div>
        </div>

        <div class="card bg-base-200">
          <div class="card-body">
            <h3 class="card-title text-base">Automatic Updates</h3>
            <p class="text-sm">Schedule crawlers to run daily, weekly, or manually trigger runs</p>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Supported Sources -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">Supported Sources</h2>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- SharePoint -->
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title text-base">
              <svg class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M11.5 2C6.25 2 2 6.25 2 11.5S6.25 21 11.5 21c.75 0 1.5-.1 2.2-.25 1.25 1.3 3 2.15 5 2.15.4 0 .8-.05 1.2-.15-.05-.4-.1-.8-.1-1.2 0-2 .85-3.75 2.15-5-.15-.7-.25-1.45-.25-2.2C21.95 8.1 17.7 3.85 12.45 3.85z"/>
              </svg>
              SharePoint Online
            </h3>
            <p class="text-sm mb-3">Crawl SharePoint document libraries and OneDrive folders</p>
            <div class="text-xs space-y-1 break-words">
              <p><strong>URI Format:</strong> <code class="break-all">https://yourcompany.sharepoint.com/sites/SiteName</code></p>
              <p><strong>Authentication:</strong> Browser cookies (FedAuth, rtFa)</p>
            </div>
          </div>
        </div>

        <!-- SMB / Windows File Share -->
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title text-base">
              <svg class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3 8h7V6H3v2m0 3h7V9H3v2m11 0h7V9h-7v2m0-3h7V6h-7v2M3 14h7v-2H3v2m11 0h7v-2h-7v2M3 17h7v-2H3v2m11 0h7v-2h-7v2z"/>
              </svg>
              SMB / Windows File Share
            </h3>
            <p class="text-sm mb-3">Access network file shares and Windows servers</p>
            <div class="text-xs space-y-1 break-words">
              <p><strong>URI Format:</strong> <code class="break-all">smb://server/share/folder</code></p>
              <p><strong>Authentication:</strong> Username + Password</p>
            </div>
          </div>
        </div>

        <!-- HTTP/HTTPS Websites -->
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title text-base">
              <svg class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z"/>
              </svg>
              HTTP/HTTPS Websites
            </h3>
            <p class="text-sm mb-3">Crawl public or internal websites and download files</p>
            <div class="text-xs space-y-1 break-words">
              <p><strong>URI Format:</strong> <code class="break-all">https://docs.example.com/files</code></p>
              <p><strong>Authentication:</strong> None (public sites only)</p>
            </div>
          </div>
        </div>

        <!-- Box.com -->
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title text-base">
              <svg class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
              </svg>
              Box.com
            </h3>
            <p class="text-sm mb-3">Access Box.com enterprise cloud storage folders</p>
            <div class="text-xs space-y-1 break-words">
              <p><strong>URI Format:</strong> <code class="break-all">https://app.box.com/folder/123456789</code></p>
              <p><strong>Authentication:</strong> Customer ID + Developer Token</p>
            </div>
          </div>
        </div>

        <!-- API / REST -->
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title text-base">
              <svg class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8.5 18.31L3.5 15V9l5-3.31V12m6.5 6.31L20.5 15V9l-5-3.31V12M12 22.5L9 20.69V17l3 2.31l3-2.31v3.69M12 2L9 4.31V8l3-2.31L15 8V4.31"/>
              </svg>
              API / REST
            </h3>
            <p class="text-sm mb-3">Crawl REST APIs and e-commerce platforms with pre-configured templates</p>
            <div class="text-xs space-y-1 break-words">
              <p><strong>Templates:</strong> Shopware 6, Weclapp, Generic REST</p>
              <p><strong>Authentication:</strong> OAuth2, API Key, Bearer Token, Basic Auth</p>
            </div>
            <div class="alert alert-warning mt-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              <span class="text-xs">API crawlers will soon be replaced with <a href="/docs/connectors" class="link">Connectors</a> for more powerful automation.</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Creating a Crawler -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">Creating a Crawler</h2>

      <ul class="steps steps-vertical w-full mb-8">
        <li class="step step-primary">
          <div class="text-left">
            <div class="font-bold">Select Source Type</div>
            <div class="text-xs">SharePoint, SMB, HTTP, Box, or API</div>
          </div>
        </li>
        <li class="step step-primary">
          <div class="text-left">
            <div class="font-bold">Configure URI &amp; Limits</div>
            <div class="text-xs">URL, depth, max pages</div>
          </div>
        </li>
        <li class="step step-primary">
          <div class="text-left">
            <div class="font-bold">Set File Filters</div>
            <div class="text-xs">Optional: patterns, size, MIME types</div>
          </div>
        </li>
        <li class="step step-primary">
          <div class="text-left">
            <div class="font-bold">Add Credentials</div>
            <div class="text-xs">Authentication details</div>
          </div>
        </li>
        <li class="step step-primary">
          <div class="text-left">
            <div class="font-bold">Schedule Runs</div>
            <div class="text-xs">Optional: daily/weekly automation</div>
          </div>
        </li>
      </ul>

      <div class="join join-vertical w-full">
        <!-- Basic Configuration -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="crawler-config" checked />
          <div class="collapse-title text-xl font-medium">
            <div class="badge badge-primary mr-2">1</div>
            Basic Configuration
          </div>
          <div class="collapse-content">
            <div class="ml-10">
              <div class="overflow-x-auto">
                <table class="table">
                  <tbody>
                    <tr>
                      <th class="w-1/3">URI</th>
                      <td>
                        <p class="mb-1"><strong>Required</strong></p>
                        <p class="text-sm text-base-content/70">The source location to crawl (URL, network path, etc.)</p>
                        <div class="mockup-code mt-2 text-xs overflow-x-auto">
                          <pre data-prefix="SharePoint:"><code>https://company.sharepoint.com/sites/Docs</code></pre>
                          <pre data-prefix="SMB:"><code>smb://fileserver/shared/documents</code></pre>
                          <pre data-prefix="HTTP:"><code>https://docs.example.com/files</code></pre>
                          <pre data-prefix="Box:"><code>https://app.box.com/folder/123456789</code></pre>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>Max Depth</th>
                      <td>
                        <p class="mb-1"><strong>Required</strong> • Default: 2</p>
                        <p class="text-sm text-base-content/70">How many folder levels deep to crawl (0 = only root folder)</p>
                        <p class="text-sm text-base-content/70 mt-2">Example: Depth 2 crawls <code>/docs</code> → <code>/docs/2024</code> → <code>/docs/2024/Q1</code></p>
                      </td>
                    </tr>
                    <tr>
                      <th>Max Pages</th>
                      <td>
                        <p class="mb-1"><strong>Required</strong> • Default: 10</p>
                        <p class="text-sm text-base-content/70">Maximum number of files to collect per crawler run</p>
                        <p class="text-sm text-base-content/70 mt-2">Prevents overwhelming the system with too many files at once</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- File Filters -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="crawler-config" />
          <div class="collapse-title text-xl font-medium">
            <div class="badge badge-primary mr-2">2</div>
            File Filters (Optional)
          </div>
          <div class="collapse-content">
            <div class="ml-10">
              <div class="overflow-x-auto">
                <table class="table">
                  <tbody>
                    <tr>
                      <th class="w-1/3">Include Patterns</th>
                      <td>
                        <p class="text-sm text-base-content/70">Regex patterns to include specific files</p>
                        <div class="mockup-code mt-2 text-xs overflow-x-auto">
                          <pre data-prefix=">"><code>\.pdf$, \.docx?$, \.txt$</code></pre>
                          <pre data-prefix=" "><code>Only collect PDF, DOC, DOCX, and TXT files</code></pre>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>Exclude Patterns</th>
                      <td>
                        <p class="text-sm text-base-content/70">Regex patterns to exclude files/folders</p>
                        <div class="mockup-code mt-2 text-xs overflow-x-auto">
                          <pre data-prefix=">"><code>archive, _old, backup, temp, \.tmp$</code></pre>
                          <pre data-prefix=" "><code>Skip folders named "archive", "_old", etc.</code></pre>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>Min File Size</th>
                      <td>
                        <p class="text-sm text-base-content/70">Minimum file size in MB (e.g., 0.1 = 100 KB)</p>
                        <p class="text-sm text-base-content/70 mt-2">Use to skip tiny files that likely contain no useful content</p>
                      </td>
                    </tr>
                    <tr>
                      <th>Max File Size</th>
                      <td>
                        <p class="text-sm text-base-content/70">Maximum file size in MB (e.g., 50 = 50 MB)</p>
                        <p class="text-sm text-base-content/70 mt-2">Use to skip extremely large files that may timeout during processing</p>
                      </td>
                    </tr>
                    <tr>
                      <th>Allowed MIME Types</th>
                      <td>
                        <p class="text-sm text-base-content/70">Comma-separated list of allowed file types</p>
                        <div class="mockup-code mt-2 text-xs overflow-x-auto">
                          <pre data-prefix=">"><code>application/pdf, text/plain, application/msword</code></pre>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Authentication -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="crawler-config" />
          <div class="collapse-title text-xl font-medium">
            <div class="badge badge-primary mr-2">3</div>
            Authentication
          </div>
          <div class="collapse-content">
            <div class="ml-10">
              <div class="space-y-6">
                <!-- SharePoint -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">SharePoint Online</h4>
                    <p class="text-sm mb-3">Requires browser authentication cookies:</p>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                      <li>Open your SharePoint site in a browser and log in</li>
                      <li>Open Developer Tools (F12) → Network tab</li>
                      <li>Refresh the page or navigate to a document library</li>
                      <li>Find any request to your SharePoint site</li>
                      <li>Copy the complete "Cookie" header value (must include FedAuth and rtFa cookies)</li>
                      <li>Paste into the "SharePoint Authentication Cookies" field</li>
                    </ol>
                    <div class="alert alert-warning mt-3">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                      <span class="text-xs">Cookies are session-based and expire. You may need to refresh them periodically if crawler runs start failing.</span>
                    </div>
                  </div>
                </div>

                <!-- SMB -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">SMB / Windows File Share</h4>
                    <p class="text-sm mb-3">Requires network credentials:</p>
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li><strong>Username:</strong> Domain username (e.g., DOMAIN\username or username@domain.com)</li>
                      <li><strong>Password:</strong> User's password</li>
                    </ul>
                  </div>
                </div>

                <!-- Box -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">Box.com</h4>
                    <p class="text-sm mb-3">Requires Box API credentials:</p>
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li><strong>Customer ID:</strong> Your Box enterprise customer ID (10+ characters)</li>
                      <li><strong>Developer Token:</strong> Box API developer token (20+ characters)</li>
                    </ul>
                    <p class="text-sm mt-3">Contact your Box administrator to obtain these credentials.</p>
                  </div>
                </div>

                <!-- HTTP -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">HTTP/HTTPS Websites</h4>
                    <p class="text-sm">No authentication required. Only public websites are supported.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Scheduling -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="crawler-config" />
          <div class="collapse-title text-xl font-medium">
            <div class="badge badge-primary mr-2">4</div>
            Scheduling (Optional)
          </div>
          <div class="collapse-content">
            <div class="ml-10">
              <p class="mb-4">Schedule crawlers to run automatically on a recurring basis:</p>

              <div class="card bg-base-200">
                <div class="card-body">
                  <h4 class="font-bold mb-2">Cron Schedule Configuration</h4>
                  <ul class="text-sm space-y-2">
                    <li><strong>Active:</strong> Enable/disable scheduled runs</li>
                    <li><strong>Time:</strong> Hour (0-23) and Minute (0-59) in 24-hour format</li>
                    <li><strong>Days:</strong> Select which days of the week to run (Monday - Sunday)</li>
                  </ul>

                  <div class="mockup-code text-xs mt-4 overflow-x-auto">
                    <pre data-prefix="Example 1:"><code>Every weekday at 3:00 AM</code></pre>
                    <pre data-prefix=" "><code>Hour: 3, Minute: 0, Days: Mon-Fri</code></pre>
                    <pre data-prefix="Example 2:"><code>Sundays at 11:30 PM</code></pre>
                    <pre data-prefix=" "><code>Hour: 23, Minute: 30, Days: Sunday</code></pre>
                  </div>
                </div>
              </div>

              <div class="alert alert-info mt-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <div>
                  <p class="font-bold">Manual Runs</p>
                  <p class="text-sm">You can always trigger a crawler run manually from the Library crawler list, regardless of schedule settings.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Crawler Runs -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">Crawler Runs &amp; Monitoring</h2>

      <p class="mb-4">Each time a crawler executes, it creates a "crawler run" with detailed statistics:</p>

      <div class="card bg-base-200">
        <div class="card-body">
          <h3 class="card-title">Run Information</h3>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div>
              <h4 class="font-semibold text-sm mb-2">Run Metadata:</h4>
              <ul class="text-xs space-y-1">
                <li>• Start time and end time</li>
                <li>• Duration</li>
                <li>• Triggered by user (manual) or scheduler</li>
                <li>• Success or failure status</li>
                <li>• Error message (if failed)</li>
              </ul>
            </div>

            <div>
              <h4 class="font-semibold text-sm mb-2">Discovered Updates:</h4>
              <ul class="text-xs space-y-1">
                <li>• New files found</li>
                <li>• Modified files detected</li>
                <li>• Deleted files identified</li>
                <li>• Skipped files (hash unchanged)</li>
                <li>• Error files (couldn't access)</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="grid md:grid-cols-3 gap-4 mt-6">
        <div class="stat bg-base-200 rounded-lg">
          <div class="stat-title">Running Status</div>
          <div class="stat-value text-info text-2xl">Crawler is running...</div>
          <div class="stat-desc">Started 5 minutes ago</div>
        </div>
        <div class="stat bg-base-200 rounded-lg">
          <div class="stat-title">Last Run</div>
          <div class="stat-value text-success text-2xl">Completed</div>
          <div class="stat-desc">127 files discovered</div>
        </div>
        <div class="stat bg-base-200 rounded-lg">
          <div class="stat-title">Total Runs</div>
          <div class="stat-value text-2xl">48</div>
          <div class="stat-desc">Since creation</div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- How Crawling Works -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">How Crawling Works</h2>

      <div class="space-y-4">
        <div class="alert">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">1. Discovery</h3>
            <p class="text-sm">Crawler navigates the source (folders, links, etc.) up to the configured max depth, discovering files that match filters</p>
          </div>
        </div>

        <div class="alert">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">2. Change Detection</h3>
            <p class="text-sm">For each discovered file, crawler checks if it already exists in the Library by comparing content hash and modification date</p>
          </div>
        </div>

        <div class="alert">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">3. File Import</h3>
            <p class="text-sm">New or modified files are downloaded and added to the Library. Unchanged files are skipped to save processing time.</p>
          </div>
        </div>

        <div class="alert">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">4. Automatic Processing</h3>
            <p class="text-sm">If "Auto-process crawled files" is enabled in Library settings, new files are automatically queued for extraction and embedding</p>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- SMB / Windows File Share Details -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">SMB / Windows File Share Details</h2>

      <p class="mb-6">
        George AI provides direct SMB2 protocol support for accessing Windows file shares and network storage. No mounting required—works seamlessly in Docker and cloud environments.
      </p>

      <div class="grid md:grid-cols-2 gap-6 mb-8">
        <!-- Feature 1 -->
        <div class="card bg-base-200 border-l-4 border-primary">
          <div class="card-body">
            <h3 class="card-title text-primary">Direct SMB2 Protocol</h3>
            <p class="text-sm">
              Native SMB2/3 protocol implementation—no CIFS kernel modules or system mounts needed. Works in Docker, Kubernetes, and serverless environments.
            </p>
          </div>
        </div>

        <!-- Feature 2 -->
        <div class="card bg-base-200 border-l-4 border-secondary">
          <div class="card-body">
            <h3 class="card-title text-secondary">Large File Support</h3>
            <p class="text-sm">
              Stream files directly without Base64 encoding overhead. Efficiently handle multi-GB files with constant memory usage.
            </p>
          </div>
        </div>

        <!-- Feature 3 -->
        <div class="card bg-base-200 border-l-4 border-accent">
          <div class="card-body">
            <h3 class="card-title text-accent">Real-Time Progress</h3>
            <p class="text-sm">
              Server-Sent Events (SSE) provide live file discovery updates. See files as they're found during the crawl.
            </p>
          </div>
        </div>

        <!-- Feature 4 -->
        <div class="card bg-base-200 border-l-4 border-success">
          <div class="card-body">
            <h3 class="card-title text-success">Incremental Updates</h3>
            <p class="text-sm">
              MD5 hash comparison detects file changes. Only new and modified files are downloaded and processed.
            </p>
          </div>
        </div>
      </div>

      <div class="join join-vertical w-full">
        <!-- URI Format -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="smb-accordion" checked />
          <div class="collapse-title text-xl font-medium">
            URI Format &amp; Examples
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <p class="mb-4">SMB crawler URIs follow the standard UNC path format:</p>

              <div class="mockup-code text-xs mb-4">
                <pre data-prefix="Format:"><code>//server/share/optional/path</code></pre>
                <pre data-prefix=""><code></code></pre>
                <pre data-prefix="Example 1:"><code>//fileserver.company.com/departments/marketing</code></pre>
                <pre data-prefix="Example 2:"><code>//10.0.1.50/shared/documents</code></pre>
                <pre data-prefix="Example 3:"><code>//nas-001/public/reports/2024</code></pre>
              </div>

              <div class="overflow-x-auto">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th>Component</th>
                      <th>Description</th>
                      <th>Required</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>//</td>
                      <td>UNC path prefix</td>
                      <td>Yes</td>
                    </tr>
                    <tr>
                      <td>server</td>
                      <td>Hostname, FQDN, or IP address</td>
                      <td>Yes</td>
                    </tr>
                    <tr>
                      <td>share</td>
                      <td>SMB share name</td>
                      <td>Yes</td>
                    </tr>
                    <tr>
                      <td>path</td>
                      <td>Subdirectory within share</td>
                      <td>No</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="alert alert-warning mt-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <div>
                  <h3 class="font-bold">Backslashes Not Supported</h3>
                  <div class="text-sm">Use forward slashes only. Windows UNC format \\server\share should be written as //server/share</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Authentication -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="smb-accordion" />
          <div class="collapse-title text-xl font-medium">
            Authentication
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <p class="mb-4">SMB crawlers support username and password authentication:</p>

              <div class="overflow-x-auto">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th>Format</th>
                      <th>Example</th>
                      <th>Use Case</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Username only</td>
                      <td>john</td>
                      <td>Local account on file server</td>
                    </tr>
                    <tr>
                      <td>Domain\Username</td>
                      <td>COMPANY\john</td>
                      <td>Active Directory domain account</td>
                    </tr>
                    <tr>
                      <td>username@domain.com</td>
                      <td>john@company.com</td>
                      <td>UPN format (modern AD)</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="alert alert-info mt-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <div>
                  <p class="font-bold">Credentials Storage</p>
                  <p class="text-sm">Credentials are securely encrypted in the database. Only the crawler service can decrypt and use them for SMB connections.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- File Patterns -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="smb-accordion" />
          <div class="collapse-title text-xl font-medium">
            File Filtering with Glob Patterns
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <p class="mb-4">Use glob patterns to control which files are crawled:</p>

              <div class="card bg-base-200 mb-4">
                <div class="card-body">
                  <h4 class="font-bold mb-2">Include Patterns</h4>
                  <p class="text-sm mb-2">Only files matching these patterns are crawled:</p>
                  <div class="mockup-code text-xs">
                    <pre data-prefix=""><code>*.pdf                 # All PDF files</code></pre>
                    <pre data-prefix=""><code>*.docx                # Word files</code></pre>
                    <pre data-prefix=""><code>report-*.pdf          # PDFs starting with "report-"</code></pre>
                  </div>
                </div>
              </div>

              <div class="card bg-base-200 mb-4">
                <div class="card-body">
                  <h4 class="font-bold mb-2">Exclude Patterns</h4>
                  <p class="text-sm mb-2">Files matching these patterns are skipped:</p>
                  <div class="mockup-code text-xs">
                    <pre data-prefix=""><code>**/~$*            # Office temporary files</code></pre>
                    <pre data-prefix=""><code>**/.git/**        # Git directories</code></pre>
                    <pre data-prefix=""><code>**/temp/**        # Temp folders</code></pre>
                    <pre data-prefix=""><code>**/archive/**     # Archived content</code></pre>
                  </div>
                </div>
              </div>

              <div class="overflow-x-auto">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th>Pattern</th>
                      <th>Matches</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>*</code></td>
                      <td>Any characters except <code>/</code></td>
                    </tr>
                    <tr>
                      <td><code>**</code></td>
                      <td>Any characters including <code>/</code> (recursive)</td>
                    </tr>
                    <tr>
                      <td><code>?</code></td>
                      <td>Single character</td>
                    </tr>
                    <tr>
                      <td><code>[abc]</code></td>
                      <td>Any character in set</td>
                    </tr>
                    <tr>
                      <td>*.pdf or *.doc</td>
                      <td>Multiple extensions (use separate patterns)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Performance & Limits -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="smb-accordion" />
          <div class="collapse-title text-xl font-medium">
            Performance &amp; File Size Limits
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <p class="mb-4">SMB crawlers handle large files efficiently with streaming architecture:</p>

              <div class="stats shadow mb-4 w-full">
                <div class="stat">
                  <div class="stat-title">Memory Usage</div>
                  <div class="stat-value text-primary">~1 KB</div>
                  <div class="stat-desc">Constant per file, regardless of size</div>
                </div>
                <div class="stat">
                  <div class="stat-title">Max File Size</div>
                  <div class="stat-value text-secondary">100 MB</div>
                  <div class="stat-desc">Default limit (configurable)</div>
                </div>
                <div class="stat">
                  <div class="stat-title">Download Speed</div>
                  <div class="stat-value text-accent">Network</div>
                  <div class="stat-desc">Limited by SMB connection speed</div>
                </div>
              </div>

              <div class="alert alert-success">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <span><strong>Streaming Architecture:</strong> Files are processed as they're downloaded. No need to buffer entire files in memory.</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Troubleshooting SMB -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="smb-accordion" />
          <div class="collapse-title text-xl font-medium">
            Common SMB Issues
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <div class="space-y-4">
                <!-- Issue 1 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold text-error">Error: "Authentication failed"</h4>
                    <p class="text-sm mb-2"><strong>Causes:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Incorrect username or password</li>
                      <li>Account locked or disabled</li>
                      <li>Domain name incorrect</li>
                    </ul>
                    <p class="text-sm mt-2"><strong>Solutions:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Verify credentials can access the share from another computer</li>
                      <li>Use correct domain format (DOMAIN\user or user@domain.com)</li>
                      <li>Check with IT if account has SMB access permissions</li>
                    </ul>
                  </div>
                </div>

                <!-- Issue 2 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold text-error">Error: "Share not found" or "Connection refused"</h4>
                    <p class="text-sm mb-2"><strong>Causes:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Server hostname/IP incorrect</li>
                      <li>Share name misspelled</li>
                      <li>Firewall blocking SMB ports (445)</li>
                      <li>Server not accessible from George AI network</li>
                    </ul>
                    <p class="text-sm mt-2"><strong>Solutions:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Verify URI format: //server/share (forward slashes)</li>
                      <li>Test network connectivity (ping server from George AI container)</li>
                      <li>Ensure port 445 is open in firewall rules</li>
                      <li>Use IP address instead of hostname if DNS resolution fails</li>
                    </ul>
                  </div>
                </div>

                <!-- Issue 3 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold text-warning">Issue: No files found</h4>
                    <p class="text-sm mb-2"><strong>Causes:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Include patterns too restrictive</li>
                      <li>Path doesn't exist within share</li>
                      <li>User doesn't have read permissions</li>
                    </ul>
                    <p class="text-sm mt-2"><strong>Solutions:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Try without include patterns first to see all files</li>
                      <li>Verify path exists by accessing share manually</li>
                      <li>Check user has at least read permissions on the folder</li>
                    </ul>
                  </div>
                </div>

                <!-- Issue 4 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold text-warning">Issue: Slow crawl performance</h4>
                    <p class="text-sm mb-2"><strong>Causes:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Crawling thousands of files</li>
                      <li>Slow network connection to file server</li>
                      <li>Large files being downloaded</li>
                    </ul>
                    <p class="text-sm mt-2"><strong>Solutions:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                      <li>Use more specific paths to reduce file count</li>
                      <li>Add exclude patterns for unnecessary folders</li>
                      <li>Set maxFileSizeBytes to skip very large files</li>
                      <li>Improve network bandwidth between George AI and file server</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- API / REST Crawler Details -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">API / REST Crawler Details</h2>

      <p class="mb-6">
        George AI supports crawling REST APIs with pre-configured templates for popular e-commerce platforms and a generic REST template for custom APIs. API crawlers handle pagination, authentication, and data mapping automatically.
      </p>

      <div class="alert alert-warning mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <div>
          <h3 class="font-bold">Migration to Connectors</h3>
          <div class="text-sm">API crawlers will soon be replaced with <a href="/docs/connectors" class="link">Connectors</a>, which provide more powerful automation capabilities including bidirectional sync, field mapping UIs, and write operations. For new integrations, consider using Connectors instead.</div>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6 mb-8">
        <!-- Feature 1 -->
        <div class="card bg-base-200 border-l-4 border-primary">
          <div class="card-body">
            <h3 class="card-title text-primary">Pre-Configured Templates</h3>
            <p class="text-sm">
              Ready-to-use templates for Shopware 6 and Weclapp e-commerce platforms, plus a generic REST template for custom APIs.
            </p>
          </div>
        </div>

        <!-- Feature 2 -->
        <div class="card bg-base-200 border-l-4 border-secondary">
          <div class="card-body">
            <h3 class="card-title text-secondary">Multiple Auth Methods</h3>
            <p class="text-sm">
              Supports OAuth2, API keys, Bearer tokens, and Basic authentication. Credentials securely encrypted in database.
            </p>
          </div>
        </div>

        <!-- Feature 3 -->
        <div class="card bg-base-200 border-l-4 border-accent">
          <div class="card-body">
            <h3 class="card-title text-accent">Automatic Pagination</h3>
            <p class="text-sm">
              Handles API pagination automatically, collecting all records across multiple API calls with configurable delays and concurrency.
            </p>
          </div>
        </div>

        <!-- Feature 4 -->
        <div class="card bg-base-200 border-l-4 border-success">
          <div class="card-body">
            <h3 class="card-title text-success">Data Transformation</h3>
            <p class="text-sm">
              Converts API responses to markdown format automatically. Each product/record becomes a searchable document.
            </p>
          </div>
        </div>
      </div>

      <div class="join join-vertical w-full">
        <!-- Available Templates -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="api-accordion" checked />
          <div class="collapse-title text-xl font-medium">
            Available Templates
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <div class="space-y-6">
                <!-- Shopware 6 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">
                      <span class="badge badge-primary mr-2">Shopware 6</span>
                    </h4>
                    <p class="text-sm mb-3">E-commerce platform integration for product catalog crawling.</p>

                    <div class="overflow-x-auto">
                      <table class="table table-sm">
                        <tbody>
                          <tr>
                            <th class="w-1/3">Provider</th>
                            <td>shopware6</td>
                          </tr>
                          <tr>
                            <th>Endpoint</th>
                            <td>/api/product</td>
                          </tr>
                          <tr>
                            <th>Authentication</th>
                            <td>OAuth2 (Client Credentials)</td>
                          </tr>
                          <tr>
                            <th>Configuration</th>
                            <td>
                              <ul class="text-xs space-y-1">
                                <li><strong>Client ID:</strong> OAuth2 integration client ID</li>
                                <li><strong>Client Secret:</strong> OAuth2 integration client secret</li>
                                <li><strong>Token URL:</strong> OAuth2 token endpoint</li>
                                <li><strong>Associations:</strong> Related data to include (manufacturer, categories, cover.media, properties, etc.)</li>
                              </ul>
                            </td>
                          </tr>
                          <tr>
                            <th>Rate Limiting</th>
                            <td>100ms delay between requests, max 3 concurrent requests</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="mockup-code text-xs mt-4">
                      <pre data-prefix="Example URL:"><code>https://shop.example.com/api/product</code></pre>
                    </div>
                  </div>
                </div>

                <!-- Weclapp -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">
                      <span class="badge badge-secondary mr-2">Weclapp</span>
                    </h4>
                    <p class="text-sm mb-3">ERP platform integration for product and inventory data.</p>

                    <div class="overflow-x-auto">
                      <table class="table table-sm">
                        <tbody>
                          <tr>
                            <th class="w-1/3">Provider</th>
                            <td>weclapp</td>
                          </tr>
                          <tr>
                            <th>Endpoint</th>
                            <td>Configured per template</td>
                          </tr>
                          <tr>
                            <th>Authentication</th>
                            <td>API Token</td>
                          </tr>
                          <tr>
                            <th>Configuration</th>
                            <td>
                              <ul class="text-xs space-y-1">
                                <li><strong>API Token:</strong> Weclapp API authentication token</li>
                                <li><strong>Tenant:</strong> Weclapp tenant/instance name</li>
                              </ul>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- Generic REST -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">
                      <span class="badge badge-accent mr-2">Generic REST</span>
                    </h4>
                    <p class="text-sm mb-3">Flexible template for any REST API with custom configuration.</p>

                    <div class="overflow-x-auto">
                      <table class="table table-sm">
                        <tbody>
                          <tr>
                            <th class="w-1/3">Provider</th>
                            <td>custom</td>
                          </tr>
                          <tr>
                            <th>Endpoint</th>
                            <td>Fully customizable API URL</td>
                          </tr>
                          <tr>
                            <th>Authentication</th>
                            <td>API Key, Bearer Token, Basic Auth, or None</td>
                          </tr>
                          <tr>
                            <th>Configuration</th>
                            <td>
                              <ul class="text-xs space-y-1">
                                <li><strong>Base URL:</strong> API base URL</li>
                                <li><strong>Endpoint:</strong> API endpoint path</li>
                                <li><strong>Headers:</strong> Custom HTTP headers (JSON format)</li>
                                <li><strong>Pagination:</strong> Define how API handles pagination</li>
                                <li><strong>Response Path:</strong> JSON path to data array in response</li>
                              </ul>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="mockup-code text-xs mt-4">
                      <pre data-prefix="URL:"><code>https://api.example.com/products</code></pre>
                      <pre data-prefix="Headers:"><code>Authorization: Bearer your-token</code></pre>
                      <pre data-prefix="Path:"><code>data.products</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Authentication Types -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="api-accordion" />
          <div class="collapse-title text-xl font-medium">
            Authentication Types
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <div class="space-y-4">
                <!-- OAuth2 -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">OAuth2 (Client Credentials)</h4>
                    <p class="text-sm mb-3">Used by Shopware 6 template for secure API access.</p>
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li><strong>Client ID:</strong> OAuth2 application/integration ID</li>
                      <li><strong>Client Secret:</strong> OAuth2 application secret</li>
                      <li><strong>Token URL:</strong> OAuth2 token endpoint</li>
                      <li><strong>Scope:</strong> Optional - OAuth2 scopes to request</li>
                    </ul>
                    <p class="text-sm mt-2">Access tokens are automatically refreshed when expired.</p>
                  </div>
                </div>

                <!-- API Key -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">API Key</h4>
                    <p class="text-sm mb-3">Simple key-based authentication via header or query parameter.</p>
                    <div class="mockup-code text-xs">
                      <pre data-prefix="Header:"><code>X-API-Key: your-api-key-here</code></pre>
                      <pre data-prefix="Query:"><code>?api_key=your-api-key-here</code></pre>
                    </div>
                  </div>
                </div>

                <!-- Bearer Token -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">Bearer Token</h4>
                    <p class="text-sm mb-3">Token-based authentication in Authorization header.</p>
                    <div class="mockup-code text-xs">
                      <pre data-prefix="Header:"><code>Authorization: Bearer your-token-here</code></pre>
                    </div>
                  </div>
                </div>

                <!-- Basic Auth -->
                <div class="card bg-base-200">
                  <div class="card-body">
                    <h4 class="font-bold mb-2">Basic Authentication</h4>
                    <p class="text-sm mb-3">Username and password encoded in Authorization header.</p>
                    <div class="mockup-code text-xs">
                      <pre data-prefix="Header:"><code>Authorization: Basic base64(username:password)</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Configuration Options -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="api-accordion" />
          <div class="collapse-title text-xl font-medium">
            Configuration Options
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <div class="overflow-x-auto">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Option</th>
                      <th>Description</th>
                      <th>Default</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>requestDelay</td>
                      <td>Milliseconds to wait between API requests</td>
                      <td>100ms</td>
                    </tr>
                    <tr>
                      <td>maxConcurrency</td>
                      <td>Maximum number of concurrent API requests</td>
                      <td>3</td>
                    </tr>
                    <tr>
                      <td>pageSize</td>
                      <td>Number of records per API page/request</td>
                      <td>50</td>
                    </tr>
                    <tr>
                      <td>maxPages</td>
                      <td>Maximum number of pages to crawl</td>
                      <td>10</td>
                    </tr>
                    <tr>
                      <td>associations</td>
                      <td>Related data to include (Shopware 6 only)</td>
                      <td>Empty</td>
                    </tr>
                    <tr>
                      <td>responsePath</td>
                      <td>JSON path to data array in API response</td>
                      <td>Varies</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="alert alert-info mt-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <div>
                  <p class="font-bold">Rate Limiting</p>
                  <p class="text-sm">Use requestDelay and maxConcurrency to respect API rate limits and avoid being blocked.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Migration to Connectors -->
        <div class="collapse collapse-arrow join-item border border-base-300">
          <input type="radio" name="api-accordion" />
          <div class="collapse-title text-xl font-medium">
            Migration to Connectors
          </div>
          <div class="collapse-content">
            <div class="mt-4">
              <p class="mb-4">API crawlers are being phased out in favor of <a href="/docs/connectors" class="link">Connectors</a>, which provide:</p>

              <div class="grid md:grid-cols-2 gap-4 mb-6">
                <div class="card bg-success/10 border border-success">
                  <div class="card-body">
                    <h4 class="font-bold text-success mb-2">Connectors Advantages</h4>
                    <ul class="text-sm space-y-1">
                      <li>✓ Bidirectional sync (read and write)</li>
                      <li>✓ Field mapping UI (no code required)</li>
                      <li>✓ Write operations (create/update records)</li>
                      <li>✓ Automation workflows</li>
                      <li>✓ Error handling and retry logic</li>
                      <li>✓ Real-time sync triggers</li>
                    </ul>
                  </div>
                </div>

                <div class="card bg-warning/10 border border-warning">
                  <div class="card-body">
                    <h4 class="font-bold text-warning mb-2">API Crawler Limitations</h4>
                    <ul class="text-sm space-y-1">
                      <li>✗ Read-only (no write operations)</li>
                      <li>✗ Manual configuration (JSON/code)</li>
                      <li>✗ Limited error handling</li>
                      <li>✗ No field mapping UI</li>
                      <li>✗ Manual scheduling only</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="alert alert-warning">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <div>
                  <h3 class="font-bold">Recommendation</h3>
                  <div class="text-sm">
                    <p>For new integrations, we recommend using <a href="/docs/connectors" class="link">Connectors</a> instead of API crawlers. Connectors provide a better user experience, more features, and easier maintenance.</p>
                    <p class="mt-2">See the <a href="/docs/connectors/shopware6" class="link">Shopware 6 Connector documentation</a> for an example of the new approach.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Best Practices -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">Best Practices</h2>

      <div class="space-y-4">
        <div class="alert alert-info">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">Start with Small Max Pages</h3>
            <p class="text-sm">Begin with maxPages=10 or 50 to test your crawler configuration. Once confirmed working, increase to larger numbers.</p>
          </div>
        </div>

        <div class="alert alert-success">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <h3 class="font-bold">Use File Filters Wisely</h3>
            <p class="text-sm">Exclude unnecessary folders (archive, temp, backup) and limit file types to what you actually need. This speeds up crawling and reduces noise.</p>
          </div>
        </div>

        <div class="alert alert-warning">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
          <div>
            <h3 class="font-bold">Schedule During Off-Hours</h3>
            <p class="text-sm">Run scheduled crawlers during low-traffic times (e.g., 3 AM) to avoid impacting system performance during business hours.</p>
          </div>
        </div>

        <div class="alert alert-warning">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
          <div>
            <h3 class="font-bold">Monitor SharePoint Cookie Expiration</h3>
            <p class="text-sm">SharePoint authentication cookies typically expire after a few hours or days. If crawler runs start failing, refresh the cookies.</p>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Troubleshooting -->
    <section class="mb-12">
      <h2 class="text-3xl font-bold mb-6">Troubleshooting</h2>

      <div class="overflow-x-auto">
        <table class="table table-zebra">
          <thead>
            <tr>
              <th>Issue</th>
              <th>Possible Cause</th>
              <th>Solution</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Crawler run fails immediately</td>
              <td>Invalid credentials or expired cookies</td>
              <td>Verify credentials and refresh SharePoint cookies if applicable</td>
            </tr>
            <tr>
              <td>No files discovered</td>
              <td>Filters too restrictive or maxDepth too low</td>
              <td>Review include/exclude patterns and increase maxDepth</td>
            </tr>
            <tr>
              <td>Crawler times out</td>
              <td>Too many files or very slow network</td>
              <td>Reduce maxPages or increase timeout in crawler configuration</td>
            </tr>
            <tr>
              <td>Files not processing after crawl</td>
              <td>"Auto-process crawled files" disabled</td>
              <td>Enable in Library settings or manually trigger processing</td>
            </tr>
            <tr>
              <td>Scheduled runs not executing</td>
              <td>Cron job inactive or system scheduler stopped</td>
              <td>Verify cronJob.active is true and check system status</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Next Steps -->
    <section>
      <div class="card bg-primary text-primary-content">
        <div class="card-body">
          <h2 class="card-title text-2xl">Related Topics</h2>
          <p>Learn more about file management and processing:</p>
          <div class="card-actions flex-wrap mt-4">
            <a href="/docs/files" class="btn btn-secondary">
              Files →
            </a>
            <a href="/docs/libraries" class="btn btn-ghost btn-outline border-white text-white hover:bg-white hover:text-primary">
              Libraries
            </a>
            <a href="/docs/processing" class="btn btn-ghost btn-outline border-white text-white hover:bg-white hover:text-primary">
              Processing
            </a>
          </div>
        </div>
      </div>
    </section>

  </div>
</Layout>
